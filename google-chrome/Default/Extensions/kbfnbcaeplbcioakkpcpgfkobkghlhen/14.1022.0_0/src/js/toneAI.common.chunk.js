(self.webpackChunk=self.webpackChunk||[]).push([[7725],{13922:(e,t,i)=>{i.d(t,{O:()=>T});var n=i(57050),a=i(35214),s=i(45701),o=i(40327),r=i(27378),l=i(63047),c=i(24394),d=i(46547),p=i(79921),u=i(1620),m=i(86705),I=i(12187),A=i(67489),h=i.n(A);const b=({emojiUnicode:e,title:t,expanded:i,accepted:n,onShow:a,onExpand:s,onClick:o,onClose:l,onVote:A,browser:b,lensIsPriority:v})=>(r.useEffect((()=>{null==a||a()}),[t]),r.useEffect((()=>{i&&(null==s||s())}),[i]),r.createElement(d.Z,{kind:v?"assistant-priority-lens":"assistant-all-lens",onClick:()=>{i||o()},dataPartName:"intent-detection-card"},r.createElement("div",{...(0,I.Sh)(h().intentDetectionCardContent,i&&!n?h().intentDetectionCardContentExpanded:null,n?h().intentDetectionCardContentAccepted:null)},r.createElement("div",{className:h().intentDetectionCardEmojiAndTitle},r.createElement(p.dy,{className:h().intentDetectionCardEmoji,unicodeLiteral:null,unicodeHexArray:n?["1f64c"]:[e]}),n?r.createElement("div",null,"Thanks for helping us build new suggestions!"):r.createElement("div",null,r.createElement("div",null,t),r.createElement("div",{className:h().intentDetectionCardExpandedInfo},"Your input helps us develop more tailored suggestions for you."))),n?r.createElement("div",{className:h().intentDetectionCardBetaBadgeAndCloseButton},r.createElement(u.P,{onClick:e=>{e.stopPropagation(),l()},size:"small",containerClassName:h().intentDetectionCardCloseButton}),r.createElement(m.v,{browser:b,className:h().intentDetectionCardBetaBadge})):r.createElement("div",{className:h().intentDetectionCardVoteAndBetaBadge},r.createElement(c.A,{ariaLabel:t,voteYesAriaLabel:"Yes",voteNoAriaLabel:"No",voteYesTooltipMessage:"Yes",voteNoTooltipMessage:"No",onVote:A,voteYesMarginRight:8,irrevocable:!0}),r.createElement(m.v,{browser:b,className:h().intentDetectionCardExpandedInfo})))));b.defaultProps={expanded:!1,accepted:!1,lensIsPriority:!0};const v=({emojiUnicode:e,title:t,expanded:i,accepted:n,onShow:a,onExpand:s,onClick:o,onClose:l,onFeedbackAccurate:d,onFeedbackInaccurate:p,browser:u,lensIsPriority:m})=>r.createElement(b,{emojiUnicode:e,title:t,expanded:i,accepted:n,onShow:a,onExpand:s,onClick:o,onClose:l,onVote:e=>{e===c.x.YES?d():p()},browser:u,lensIsPriority:m});var C,g=i(28043),f=i(77176),y=i(5739),k=i(31881);!function(e){e.IntentDetection=k.UI.Node.make((({view:e,notify:t})=>{const i=e("view");return r.createElement(y.F.div,null,i.pipe(g.x(l.Z.eq.equals),f.U((e=>r.createElement(v,{emojiUnicode:e.emojiUnicode,title:e.title,expanded:"focused"===e.visualState.transition.type,accepted:"success"===e.visualState.transition.type,onShow:t({kind:l.Z.Event.Kind.intentDetectionItemShow,id:e.id,predictionId:e.predictionId,label:e.label}),onExpand:t({kind:l.Z.Event.Kind.intentDetectionItemExpand,id:e.id,predictionId:e.predictionId,label:e.label}),onClick:t({kind:l.Z.Event.Kind.intentDetectionItemClick,id:e.id,predictionId:e.predictionId,label:e.label}),onClose:t({kind:l.Z.Event.Kind.intentDetectionItemClose,id:e.id}),onFeedbackAccurate:t({kind:l.Z.Event.Kind.intentDetectionItemFeedbackAccurate,id:e.id,predictionId:e.predictionId,label:e.label,transitionType:e.visualState.transition.type}),onFeedbackInaccurate:t({kind:l.Z.Event.Kind.intentDetectionItemFeedbackInaccurate,id:e.id,predictionId:e.predictionId,label:e.label}),browser:e.browser,lensIsPriority:e.lensIsPriority})))))}))}(C||(C={}));var T,w=i(22373),D=i(7910),S=i(84246),E=i(84974),B=i(98752),P=i(17594),F=i(26027),R=i(91549),U=i(20594),x=i(86775),N=i(16892),_=i(48521),M=i(75316),q=i(15215),O=i(70100),L=i(47306),X=i(35416),Z=i(93494),j=i(8125),W=i(83078),K=i(5114),V=i(73975);!function(e){function t(e,t,i,n,a){return X.nL.Items.mapper((e=>e.kind),{[F.X.Kind]:e,[R.R.Kind]:t,[O.X.kind]:i,[L.J.kind]:n,[l.Z.Kind]:a})}function i(e){return e.kind===F.X.Kind}function r(e){return e.kind===R.R.Kind}function c(i){return(0,D.Pv)(e.disposable,((e,n)=>t((t=>({view:t,isLastCard:e,kind:"alertCard",visibleViewportHeight:i(n)})),(t=>({view:t,isLastCard:e,kind:"alertsBundle",visibleViewportHeight:i(n)})),(e=>({view:e,kind:"checklistItemEmpty"})),(t=>({view:t,kind:"checklistItemWithAlerts",isLastCard:e,visibleViewportHeight:i(n)})),(e=>({view:e,kind:"intentDetection"})))))}e.isSelectableWithAlertItem=(0,j.Kg)(i,r,q.d.isChecklistItemWithAlerts),e.getActiveItemWithAlert=X.In.getActiveItemOfType(e.isSelectableWithAlertItem),e.getActiveAlignableItem=X.In.getActiveItemOfType(e.isSelectableWithAlertItem),e.getActiveFocusableItem=X.In.getActiveItemOfType(e.isSelectableWithAlertItem),e.checksFeedItemsMapper=t,e.isAlertCard=i,e.isAlertsBundle=r,e.defaultOrd=(0,a.fold)(s.getMonoid())([(0,o.pipe)(s.ordBoolean,s.contramap(i)),F.X.ord,(0,o.pipe)(s.ordBoolean,s.contramap(l.Z.isIntentDetectionItem))]),e.bundlesOrd=(0,a.fold)(s.getMonoid())([(0,o.pipe)(s.ordBoolean,s.contramap(r)),s.fromCompare(((e,t)=>r(e)&&r(t)?R.R.ord.compare(e,t):0)),(0,o.pipe)(s.ordBoolean,s.contramap(l.Z.isIntentDetectionItem))]),e.item=e=>k.UI.Union.make("kind",{alertCard:w.p.Card(e),alertsBundle:S.Q.Card(e),checklistItemEmpty:E.z.Card(e),checklistItemWithAlerts:B.fw.Card(e),intentDetection:C.IntentDetection}),e.viewState=c,e.createCardListFlow=e=>(0,D.sJ)((t=>(0,o.pipe)(e,W.tap((e=>{e.intentDetectionActions.next(t.action)}))))),e.listItemOrd=e=>(0,s.contramap)((e=>e.cell.item.view))(e).compare;const d={equals:(e,t)=>e.kind===t.kind&&N.s.eqById.equals(e,t)},p=(e,t,i,n,a)=>({equals:(s,o)=>{const r={[F.X.Kind]:e,[R.R.Kind]:t,[O.X.kind]:i,[L.J.kind]:n,[l.Z.Kind]:a};return d.equals(s,o)&&function(e,t){return(i,n)=>t[e(i)].equals(i,n)}((e=>e.kind),r)(s,o)}}),u=(0,a.fold)(V.getMonoid())([_.o.eq,N.s.verticalPositionEq,d]);function m(e,i){const n=F.X.Capabilities.getChangePosition(e);return{changePosition:e=>t(n.changePosition(e),R.R.changePosition(e),O.X.changePositionState(e),i.changePositionState(e),l.Z.Capabilities.changePosition(e))}}function I(e,i){const n=F.X.Capabilities.getTransitionTo(e);return{transitionTo:e=>t(n.transitionTo(e),R.R.transitionTo(e),O.X.transitionTo(e),i.transitionTo(e),l.Z.Capabilities.transitionTo(e))}}function A(e,i){const n=F.X.Capabilities.getCompleteTransition(e);return{completeTransition:e=>t(n.completeTransition(e),R.R.completeTransition(e),O.X.completeTransition(e),i.completeTransition(e),l.Z.Capabilities.completeTransition(e))}}function h(e,i,a,s,o){const r=R.R.getCardHydrator(o),c=R.R.getSelect(a,s,r),d=R.R.getSelectByAlert(a,s,r),p=F.X.Capabilities.getSelect(e);return{select:(e,a)=>t(p.select(e,a),c(e,a),O.X.select(e),i.selectFirstAlert((0,n.unsafeCoerce)(e),a),l.Z.Capabilities.select(e)),selectByAlert:(e,a,s)=>t(p.selectByAlert(e,a,s),d(a,e,s),O.X.select(e),i.selectByAlert(a,(0,n.unsafeCoerce)(e),s),n.identity),unselect:(e,a)=>t(p.unselect((0,n.unsafeCoerce)(e),a),R.R.unselect((0,n.unsafeCoerce)(e),a),O.X.unselect(e),i.unselect((0,n.unsafeCoerce)(e),a),l.Z.Capabilities.unselect(e))}}function b(e,a,s,o,l,c){return{removeAlertFromItem:(d,p)=>t((t=>F.X.Capabilities.getRemoveAlerts(e,p.itemsOrd)(d,X.In.getActiveItemOfType(i)(p))(t)),(e=>R.R.getRemoveAlertsCapability(o,l,c,p.itemsOrd)(d,X.In.getActiveItemOfType(r)(p))(e)),n.identity,(e=>x.G.getRemoveAlert(a,s,o).removeAlertFromItem(d,p)(e)),n.identity)}}function v(e,i,a){const s=F.X.Capabilities.getRemove(e);return{remove:(e,o)=>t(s.remove(e,o),(t=>e(t)?R.R.getRemove(a)([t.activeAlert],o(t))(t):t),n.identity,(t=>e(t)?i.removeAlerts(t.alerts,o(t))(t):t),n.identity)}}function g(e,i,a){const s=F.X.Capabilities.getUpdateWithAlert(e),o=R.R.getUpdatableWithAlertsCapability(i);return{updateWithAlerts:e=>t(s.updateWithAlerts(e),o(e),n.identity,a.updateWith(e),n.identity)}}e.equatable={structEq:p(F.X.eq,R.R.eq,O.X.eq,L.J.eq,l.Z.eq),idEq:p(d,d,d,d,d),visualStateEq:p(u,u,u,u,u)},e.changePosition=m,e.disposable={isScheduledToDispose:t((e=>M.C.willBeDisposed(e,e.removedAlertsIds)),(e=>M.C.willBeDisposed(e,e.removedAlertsIds)),n.constFalse,(e=>M.C.willBeDisposed(e,e.removedAlertsIds)),n.constFalse)},e.hidable={isHidden:t(_.o.isHidden,_.o.isHidden,_.o.isHidden,_.o.isHidden,_.o.isHidden)},e.transitionTo=I,e.completeTransition=A,e.hasAlertsQueries={isSelectableByAlert:e=>t(M.C.hasAlert(e.alert.id),M.C.hasAlert(e.alert.id),n.constFalse,M.C.hasAlert(e.alert.id),n.constFalse),hasAlert:e=>t(M.C.hasAlert(e),M.C.hasAlert(e),n.constFalse,M.C.hasAlert(e),n.constFalse),hasActiveAlert:t((e=>K.some(e.activeAlert)),(e=>K.some(e.activeAlert)),(()=>K.none),(e=>K.some(e.activeAlert)),(()=>K.none))},e.changePositionStrategyQueries={useReferenceHeightOnRemove:t(n.constFalse,n.constFalse,n.constFalse,n.constTrue,n.constFalse)},e.select=h,e.removeAlert=b,e.remove=v,e.updateWithAlert=g,e.releaseAlert=(t,i,n,a,s,o)=>Z.v.Capabilities.getAlertReleaser({...b(t,i,n,a,s,o),...e.disposable}),e.unselectable=(e,t,i,n,a)=>Z.v.Capabilities.getUnselectable(X.In.getActiveItem,h(e,t,i,n,a)),e.selectableByAlert=(t,i,n,a,s)=>Z.v.Capabilities.getSelectableByAlert(X.In.getActiveItem,{...e.hasAlertsQueries,...h(t,i,n,a,s)}),e.selectableById=(e,t,i,n,a)=>Z.v.Capabilities.getSelectableById(X.In.getActiveItem,h(e,t,i,n,a)),e.updateMeta=()=>({updateMeta:Z.v.Capabilities.getMetaUpdatable().updateMeta}),e.animatable=(t,i,n,a,s,o)=>Z.v.Capabilities.getAnimatable(t,{...b(t,i,n,a,s,o),...e.hasAlertsQueries}),e.hasPriorityToggle=(t,i)=>Z.v.WithPriority.getHasPriorityToggle({...I(t,i),...e.hasAlertsQueries,...e.disposable});const f=t=>["focused","expanded"].includes(t.visualState.transition.type)&&!e.disposable.isScheduledToDispose(t);function y(e,i){const n=U.Mq.getCardSelections(i);return{nextAlert:t(n.nextAlert,n.nextAlert,(()=>K.none),e.nextAlert,(()=>K.none)),prevAlert:t(n.prevAlert,n.prevAlert,(()=>K.none),e.prevAlert,(()=>K.none))}}function T(){return{updateUserInput:e=>t(F.X.updateUserInput(e),R.R.changeUserInput(e),n.identity,n.identity,n.identity)}}e.alignable={isValidToAlign:t(f,f,n.constFalse,f,n.constFalse)},e.alertIterator=y,e.itemReleaser=(e,t,i)=>{const{removeItemById:n}=x.G.getItemReleaser(e,t,i,Z.v.Capabilities.getItemReleaser());return{removeItemById:n}},e.hasAlerts=Z.v.Capabilities.getHasAlerts,e.getDefaultNextAlertItemFilter=t=>(0,j.W9)(e.isSelectableWithAlertItem,(i=>!e.disposable.isScheduledToDispose(i)&&(0,o.pipe)(i,e.hasAlertsQueries.hasActiveAlert,K.map((e=>t.isRegistered(e.id))),K.getOrElse(n.constFalse)))),e.hasUserInput=T,e.priorityTest=(0,j.W9)(i,(e=>P.$.isPriority(e.activeAlert))),e.verifiable=()=>Z.v.Capabilities.getVerifiable(e.disposable),e.getCapabilities=function(t,i,a,s,o,r,l=(0,n.constant)(K.none),d=U.IG.Default){return{...c(l),...e.disposable,...e.hidable,...e.equatable,...T(),...m(t,a),...I(t,a),...A(t,a),...h(t,a,s,d,o),...v(t,a,d),...b(t,a,r,s,d,o),...g(t,i,a),...e.hasAlertsQueries,...e.changePositionStrategyQueries,...e.alignable,...e.releaseAlert(t,a,r,s,d,o),...e.unselectable(t,a,s,d,o),...e.selectableByAlert(t,a,s,d,o),...e.selectableById(t,a,s,d,o),...e.updateMeta(t),...e.animatable(t,a,r,s,d,o),...e.hasPriorityToggle(t,a),...e.itemReleaser(a,r,s),...e.verifiable(),...e.hasAlerts(y(a,s),e.hasAlertsQueries,(()=>e.getDefaultNextAlertItemFilter(s)))}}}(T||(T={}))},63047:(e,t,i)=>{i.d(t,{Z:()=>n});var n,a=i(40327),s=i(66896),o=i(36156),r=i(5920),l=i(48521),c=i(16892),d=i(4890),p=i(35416),u=i(93494),m=i(73975),I=i(5114),A=i(83078),h=i(95195),b=i(55415);!function(e){let t,i;e.id="IntentDetectionItemId",e.Kind="IntentDetectionItem",e.isIntentDetectionItem=function(t){return t.id===e.id},e.eq=m.fromEquals(((e,t)=>e.hashCode()===t.hashCode())),function(e){let t;!function(e){e.intentDetectionItemShow="intentDetectionItemShow",e.intentDetectionItemExpand="intentDetectionItemExpand",e.intentDetectionItemClick="intentDetectionItemClick",e.intentDetectionItemFeedbackAccurate="intentDetectionItemFeedbackAccurate",e.intentDetectionItemFeedbackInaccurate="intentDetectionItemFeedbackInaccurate",e.intentDetectionItemClose="intentDetectionItemClose",e.intentDetectionItemAccept="intentDetectionItemAccept"}(t=e.Kind||(e.Kind={})),e.isIntentDetectionItemShowAction=function(e){return e.kind===t.intentDetectionItemShow},e.isIntentDetectionItemExpandAction=function(e){return e.kind===t.intentDetectionItemExpand},e.isIntentDetectionItemClickAction=function(e){return e.kind===t.intentDetectionItemClick},e.isIntentDetectionItemFeedbackInaccurateAction=function(e){return e.kind===t.intentDetectionItemFeedbackInaccurate},e.isIntentDetectionItemFeedbackAccurateAction=function(e){return e.kind===t.intentDetectionItemFeedbackAccurate},e.isIntentDetectionItemCloseAction=function(e){return e.kind===t.intentDetectionItemClose},e.isIntentDetectionItemAcceptAction=function(e){return e.kind===t.intentDetectionItemAccept}}(t=e.Event||(e.Event={})),function(e){e.changePosition=e=>t=>new v(t.predictionId,t.label,t.emojiUnicode,t.title,t.browser,t.lensIsPriority,e,t.visualState),e.transitionTo=e=>t=>new v(t.predictionId,t.label,t.emojiUnicode,t.title,t.browser,t.lensIsPriority,t.positionState,l.o.VisualState.to(t.visualState,e)),e.completeTransition=e=>t=>new v(t.predictionId,t.label,t.emojiUnicode,t.title,t.browser,t.lensIsPriority,t.positionState,l.o.VisualState.complete(t.visualState,e)),e.select=e=>t=>(0,a.pipe)(e,I.filter((e=>e.id===t.id)),A.orElse((0,a.pipe)(t,I.fromPredicate((e=>"focused"===e.visualState.transition.type)))),I.fold((()=>{const i=c.s.PositionState.invalidateHeight(t.positionState),n={type:"focused",clockwise:!0},s=(0,a.pipe)(e,I.fold((()=>l.o.VisualState.initial(n)),(()=>l.o.VisualState.to(t.visualState,n))));return new v(t.predictionId,t.label,t.emojiUnicode,t.title,t.browser,t.lensIsPriority,i,s)}),(()=>t))),e.unselect=e=>t=>(0,a.pipe)(e,I.filter((e=>e.id===t.id)),A.orElse((0,a.pipe)(t,I.fromPredicate((e=>"rendered"===e.visualState.transition.type)))),I.fold((()=>{const e=c.s.PositionState.invalidateHeight(t.positionState),i="hidden"===t.visualState.transition.type?t.visualState:l.o.VisualState.to(t.visualState,{type:"rendered",clockwise:!0});return new v(t.predictionId,t.label,t.emojiUnicode,t.title,t.browser,t.lensIsPriority,e,i)}),(()=>t)))}(i=e.Capabilities||(e.Capabilities={}));e.getStateTransformer=t=>({state:i,metadata:n})=>{if(!p.nL.hasItems(i)||!s.R.isMainLens(i.currentLens.id)||!p.nL.isLensview(i))return h.left({state:i,metadata:n});const o=(0,a.pipe)(r.l.find(i.currentLens.items,e.isIntentDetectionItem),I.map(b.pick("value")));return(0,a.pipe)(i,p.nL.getLens,I.chain(((e,t)=>i=>{const n=t.getValue(),o=n?new v(n.predictionId,n.label,n.emojiUnicode,n.title,n.browser,s.R.isPriority(i.id),c.s.PositionState.changeWatched(c.s.PositionState.empty,!0),l.o.VisualState.initial({type:"rendered",clockwise:!0},!1)):null;return(0,a.pipe)(e,I.fold((()=>I.some({lens:i,newIntentDetectionItem:o})),(e=>(null==o?void 0:o.label)===e.label?I.none:I.some({lens:i,newIntentDetectionItem:o}))))})(o,t)),I.map((({lens:e,newIntentDetectionItem:t})=>{let n=(0,a.pipe)(o,I.fold((()=>e.items),(t=>e.items.remove(t.id))));return t&&(n=n.add(t)),p.nL.Prism.getLens().compose(u.v.Prism.items).set(n,i)})),I.getOrElse((()=>i)),(e=>h.left({state:e,metadata:n})))}}(n||(n={}));class v{constructor(e,t,i,a,s,o,r,l){this.predictionId=e,this.label=t,this.emojiUnicode=i,this.title=a,this.browser=s,this.lensIsPriority=o,this.positionState=r,this.visualState=l,this.kind=n.Kind,this.id=n.id,this.renderOptions=d.j.defaultOptions}equals(e){return n.eq.equals(this,e)}hashCode(){return(0,o.NO)({predictionId:this.predictionId,label:this.label,emojiUnicode:this.emojiUnicode,title:this.title,browser:this.browser,lensIsPriority:this.lensIsPriority,positionState:JSON.stringify(this.positionState),visualState:JSON.stringify(this.visualState)})}}},72311:(e,t,i)=>{i.r(t),i.d(t,{ToneAIFeature:()=>f});var n=i(57050),a=i(40327),s=i(17404),o=i(13922),r=i(90361),l=i(88097),c=i(14601),d=i(16118),p=i(77176),u=i(85985),m=i(93508),I=i(41398),A=i(17594),h=i(15646),b=i(75316),v=i(35416),C=i(5114),g=i(83078);class f{constructor(e,t,i){this._highlights=e,this._alertProcessor=t,this._gnar=i}initCardActionsProcessing(e,t,i,y,k){const T=new c.w;return T.add(this._highlights.geometry.pipe(d.G(),p.U((([e,t])=>{const i=new Set(Array.from(e.values()).map((e=>e.meta.alertId)));return Array.from(t.values()).filter((e=>!i.has(e.meta.alertId))).map((e=>this._alertProcessor.alerts.getAlertById(e.meta.alertId))).find((e=>e&&s.S.isToneAIAlert(e)))})),u.h(r.fQ),u.h(s.S.isToneAIAlert)).subscribe((e=>this._gnar.toneAIAlertUnderlineShow(f._getToneRewriteType(e.patternName))))),T.add(i.view((e=>(0,a.pipe)(C.fromPredicate(v.nL.hasItems)(e),C.map((e=>e.currentLens.items)),C.map((e=>e.map(o.O.checksFeedItemsMapper((e=>e),(e=>e),(()=>null),(()=>null),(()=>null))))),C.map((e=>e.filter(r.Nf))),C.map((e=>e.filter(b.C.isToneAIItem))),C.map((e=>e.filter((e=>"rendered"===e.visualState.transition.type)))),C.fold((()=>null),(e=>e.values()))))).pipe(m.O([]),u.h(r.Nf),d.G(),p.U((([e,t])=>t.filter((t=>!e.find((e=>e.id===t.id))))))).subscribe((e=>e.forEach((e=>this._gnar.toneAIAssistantMiniCardShow(f._getToneRewriteType(e.activeAlert.patternName))))))),T.add(e.pipe(u.h(h.lY.isAlertCardShow)).subscribe((e=>(0,a.pipe)(t.getById(e.alertId),C.filter(l.bZ.isToneAI),g.tap((e=>this._gnar.toneAIAssistantFullCardShow(f._getToneRewriteType(e.patternName)))))))),T.add(e.pipe(u.h(h.lY.isAlertApplyAction)).subscribe((e=>(0,a.pipe)(t.getById(e.alertId),C.filter(l.bZ.isToneAI),g.tap((e=>{this._gnar.toneAIAssistantFullCardReplacementApply(f._getToneRewriteType(e.patternName))})))))),f._subscribeToMuteOrUndoMuteButtonClick(T,e,i,h.lY.isMuteCategoryAction,(e=>this._gnar.toneAIAssistantFullCardMuteButtonClick(f._getToneRewriteType(e.patternName)))),f._subscribeToMuteOrUndoMuteButtonClick(T,e,i,h.lY.isUndoMuteCategoryAction,(e=>this._gnar.toneAIAssistantFullCardUndoMuteButtonClick(f._getToneRewriteType(e.patternName)))),T.add(y.alertClicked.pipe(p.U((e=>(0,a.pipe)(e,C.fold((()=>null),n.identity)))),u.h(r.fQ),p.U((e=>e.alert)),u.h(A.$.isToneAI),I.M(k.activeAlert),u.h((([e,t])=>e.id!==(null==t?void 0:t.id))),p.U((([e,t])=>e))).subscribe((e=>this._gnar.toneAIAlertUnderlineClick(f._getToneRewriteType(e.patternName))))),T.add(e.pipe(u.h(h.lY.isToneAIChangeToneAlternativeAction),d.G(),u.h((([e,t])=>e.selectedToneAlternativeIdx!==t.selectedToneAlternativeIdx)),p.U((([e,t])=>({alertId:t.alertId,oldToneAlternativeIdx:e.selectedToneAlternativeIdx,newToneAlternativeIdx:t.selectedToneAlternativeIdx})))).subscribe((({alertId:e,oldToneAlternativeIdx:i,newToneAlternativeIdx:n})=>(0,a.pipe)(t.getById(e),g.tap((e=>(0,a.pipe)(e.extraProperties.toneAI,g.tap((t=>{this._gnar.toneAIAssistantFullCardSliderMove(f._getToneRewriteType(e.patternName),t.toneAlternatives[i].name,t.toneAlternatives[n].name)}))))))))),T}static _getToneRewriteType(e){return e.split("/").slice(2).join("/")}static _subscribeToMuteOrUndoMuteButtonClick(e,t,i,n,s){e.add(t.pipe(u.h(n),I.M(i),p.U((([e,t])=>v.nL.hasItems(t)?(0,a.pipe)(t.currentLens.items.get(e.id),C.fold((()=>null),(e=>e.value))):null)),u.h(r.fQ),u.h(b.C.isToneAIItem),p.U((e=>e.activeAlert))).subscribe(s))}}},86705:(e,t,i)=>{i.d(t,{v:()=>s});var n=i(27378),a=i(80895);const s=({browser:e,className:t})=>"safari"!==e?n.createElement(a.C,{title:"BETA",kind:"success",className:t}):null},67489:e=>{e.exports={intentDetectionCardContent:"n8ZBv",intentDetectionCardContentExpanded:"_1zJsg",intentDetectionCardContentAccepted:"_2Nm5X",intentDetectionCardEmojiAndTitle:"W04V0",intentDetectionCardEmoji:"_2E35l",intentDetectionCardBetaBadgeAndCloseButton:"bRRgr",intentDetectionCardBetaBadge:"u4Umu",intentDetectionCardCloseButton:"_1kFTv",intentDetectionCardVoteAndBetaBadge:"Szcks",intentDetectionCardExpandedInfo:"_1iUYT"}}}]);